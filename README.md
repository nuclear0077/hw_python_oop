# Модуль фитнес-трекера

## About
Программный модуль фитнес-трекера, который обрабатывает данные для трёх видов тренировок: бега, спортивной ходьбы и плавания.

## Technology
Python 3.9

## Documentation

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/nuclear0077/hw_python_oop
```

```
cd hw_python_oop
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv env
```

```
source env/bin/activate
```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Запустить проект:

```
python3 homework.py
```

### Модуль выполняет следующие функции.
+ принимает от блока датчиков информацию о прошедшей тренировке,
+ определяет вид тренировки,
+ рассчитывает результаты тренировки,
+ выводить информационное сообщение о результатах тренировки.

### Информационное сообщение должно включать такие данные:
+ тип тренировки (бег, ходьба или плавание);
+ длительность тренировки;
+ дистанция, которую преодолел пользователь, в километрах;
+ среднюю скорость на дистанции, в км/ч;
+ расход энергии, в килокалориях.

## Структура программы
#### Базовый класс Training

В классах, описывающих любой из видов тренировки, применяются одни и те же свойства и методы. Чтобы избежать дублирования кода,создан базовый класс Training. Он содержит все основные свойства и методы для тренировок. Каждый класс, описывающий определённый вид тренировки,дополняет и расширяет базовый класс.

#### Методы базового класса

Метод get_distance() возвращает дистанцию (в километрах), которую преодолел пользователь за время тренировки.
Формула расчёта:
```
action * LEN_STEP / M_IN_KM
```
+ action, тип int — количество совершённых действий (число шагов при ходьбе и беге либо гребков — при плавании).
+ LEN_STEP — расстояние, которое спортсмен преодолевает за один шаг или гребок. Один шаг — это  0.65 метра, один гребок при плавании — 1.38 метра.
+ M_IN_KM — константа для перевода значений из метров в километры. Её значение — 1000.
Метод get_mean_speed() возвращает значение средней скорости движения во время тренировки.
Формула расчёта:
```
преодолённая_дистанция_за_тренировку / время_тренировки
```
Метод get_spent_calories() возвращает количество килокалорий, израсходованных за время тренировки.
Логика подсчёта калорий для каждого вида тренировки своя, поэтому в базовом классе я не описываю поведение метода, в его теле останется ключевое слово pass.
Метод show_training_info() возвращает объект класса сообщения.
##### class InfoMessage
Это самостоятельный класс для создания объектов сообщений. У этого класса есть метод для вывода сообщений на экран.
Объекты этого класса создаются вызовом метода show_training_info() для классов тренировок.

Свойства класса InfoMessage:
+ training_type — имя класса тренировки;
+ duration — длительность тренировки в часах;
+ distance — дистанция в километрах, которую преодолел пользователь за время тренировки;
+ speed — средняя скорость, с которой двигался пользователь;
+ calories — количество килокалорий, которое израсходовал пользователь за время тренировки.

У класса InfoMessage есть метод get_message(), который возвращает строку сообщения:
```
Тип тренировки: {training_type}; Длительность: {duration} ч.; Дистанция: {distance} км; Ср. скорость: {speed} км/ч; Потрачено ккал: {calories}.
```
#### Дочерние классы
Каждый вид спортивной активности в модуле описан соответствующим классом:
+ Бег → class Running;
+ Спортивная ходьба → class SportsWalking;
+ Плавание → class Swimming.
Конструктор каждого из классов получает информацию с датчиков: 
+ action, тип int — количество совершённых действий (число шагов при ходьбе и беге либо гребков — при плавании);
+ duration, тип float — длительность тренировки;
+ weight, тип float — вес спортсмена.

Для определения дистанции, которую преодолел спортсмен, нужно число шагов или гребков, переданное в action, перевести в километры. 

Для расчёта добавил атрибуты класса:

+ LEN_STEP — расстояние, которое спортсмен преодолевает за один шаг или гребок. Один шаг — это  0.65 метра, один гребок при плавании — 1.38 метра.
+ M_IN_KM — константа для перевода значений из метров в километры. Её значение — 1000.

Методы классов, которые отвечают за обработку данных: 
+ расчёт дистанции, которую пользователь преодолел за тренировку: get_distance();
+ расчёт средней скорости движения во время тренировки: get_mean_speed();
+ расчёт количества калорий, израсходованных за тренировку: get_spent_calories();
+ создание объекта сообщения о результатах тренировки: show_training_info().

#### Особенности реализации классов-наследников
##### class Running
Все свойства и методы этого класса без изменений наследуются от базового класса. Исключение составляет только метод расчёта калорий, он переопредлен.
Расход калорий для бега рассчитывается по такой формуле:
```
(18 * средняя_скорость + 1.79) * вес_спортсмена / M_IN_KM * время_тренировки_в_минутах
```
#### class SportsWalking
Конструктор этого класса принимает дополнительный параметр height — рост спортсмена.
Расчёт калорий для этого класса проводиться по такой формуле:
```
((0.035 * вес + (средняя_скорость_в_метрах_в_секунду**2 / рост_в_метрах)
 * 0.029 * вес) * время_тренировки_в_минутах)
```
#### class Swimming
Конструктор класса Swimming, кроме свойств базового класса, принимает ещё два параметра:
+ length_pool — длина бассейна в метрах;
+ count_pool — сколько раз пользователь переплыл бассейн.
В классе Swimming переопределен метод расчёта калорий get_spent_calories() и метод get_mean_speed(), который рассчитывает среднюю скорость.

Формула расчёта средней скорости при плавании:
```
длина_бассейна * count_pool / M_IN_KM / время_тренировки
```
Формула для расчёта израсходованных калорий:
```
(средняя_скорость + 1.1) * 2 * вес * время_тренировки
```
Также переопределен параметр LEN_STEP, ведь расстояние, преодолеваемое за один гребок, отличается от длины шага.

##### Данные для тестов:
Блок датчиков фитнес-трекера передаёт пакеты данных в виде кортежа, первый элемент которого — кодовое обозначение прошедшей тренировки, второй — список показателей, полученных от датчиков устройства. Для проверки были смоделированы пакеты для каждого вида тренировки и добавлены в список packages:
```
 packages = [
     ('SWM', [720, 1, 80, 25, 40]),
     ('RUN', [15000, 1, 75]),
     ('WLK', [9000, 1, 75, 180]),
 ]
```
##### Плавание
+ Код тренировки: 'SWM'.
+ Элементы списка: количество гребков, время в часах, вес пользователя, длина бассейна, сколько раз пользователь переплыл бассейн.
##### Бег
+ Код тренировки: 'RUN'.
+ Элементы списка: количество шагов, время тренировки в часах, вес пользователя.
##### Спортивная ходьба
+ Код тренировки: 'WLK'.
+ Элементы списка: количество шагов, время тренировки в часах, вес пользователя, рост пользователя.
Программа перебирает в цикле список пакетов, распаковывает каждый кортеж и передаёт данные в функцию read_package().
##### Функция чтения принятых пакетов read_package()
Функция read_package() определяет тип тренировки и создать объект соответствующего класса, передав ему на вход параметры, полученные во втором аргументе.
Функция read_package() принимает на вход код тренировки и список её параметров.
```
read_package(workout_type, data)
```
В теле функции read_package есть словарь, в котором сопоставляются коды тренировок и классы, какие нужно вызвать для каждого типа тренировки.

##### Функция main()

Функция main() принимает на вход экземпляр класса Training.
При выполнении функции main() вызывется метод show_training_info(); результатом выполнения метода возвращается объект класса InfoMessage и сохраняется в переменную info.
Для объекта InfoMessage, сохранённого в переменной info, вызывается метод, который возвращает строку сообщения с данными о тренировке; эту строку передаем в функцию print().
## Developer

- [Aleksandr M](https://github.com/nuclear0077)
- Telegram @nuclear0077


